# Repository Guidelines

## プロジェクト構成
このリポジトリは回線速度を継続監視し、日次の変化を画像として出力するスクリプトを扱う。現状の主要ファイルは次のとおりである。
- `README.md`: 概要とエージェント向けルール
- `GEMINI.md`: 補助メモ用ファイル

実装追加時は以下の構成を推奨する。
- `src/`: 計測・集計・描画ロジック
- `tests/`: 自動テスト
- `assets/`: 生成画像や固定リソース
- `scripts/`: 定期実行や運用補助スクリプト

## 開発・確認コマンド
標準コマンドは未整備のため、まずは以下を利用する。
- `rg --files`: ファイル一覧を高速確認する
- `git status`: 変更状態を確認する
- `git diff`: 差分内容を確認する

ビルド/テスト基盤を導入したら、`Makefile` または `package.json` などに集約し、`README.md` に実行方法を追記すること。

## コーディング規約
- `README.md` の指示に従い、回答と Markdown は日本語の常体（だ・である調）で記述する。
- 可読性を優先し、docstring・コメント・ログを十分に記載する。
- 命名は役割が分かる小文字スネークケースを基本とする。例: `speed_sampler.py`
- 文字コードは UTF-8 を使用し、インデントは言語ごとに統一する。

## テスト方針
- テストは `tests/` に配置し、対象モジュールに対応する命名とする。例: `test_daily_aggregation.py`
- 新機能には正常系と異常系のテストを最低 1 件ずつ追加する。
- テスト実行コマンドを導入した場合は `README.md` に必ず明記する。

## コミット・PR方針
- コミットメッセージは Conventional Commits を推奨する。例: `feat: add daily speed chart`
- 1コミット1目的を守り、レビューしやすい粒度に分割する。
- PRには概要、変更理由、確認手順、必要に応じて生成画像の添付を含める。

## セキュリティと設定
- APIキーやネットワーク固有情報などの秘匿情報はコミットしない。
- 環境依存設定は `.env` などのローカルファイルで管理し、必ず `.gitignore` に追加する。
